<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>임종훈의 포트폴리오 - 경력 기술</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* 기본 스타일 유지 */
        .section-title { margin-bottom: 10px; }
        .project-description h3 { margin-bottom: 1px; }
        .project-description .project-date { margin-top: 0px; }
        
        /* Deep Dive 컨테이너 스타일 */
        .deep-dive-container {
            border: 0px solid #ddd; 
            padding: 30px 20px; 
            background: #fff; 
            border-radius: 8px; 
            width: 100%; 
            box-sizing: border-box;
            min-height: 400px;
        }

        /* 탭 스타일 */
        .dd-tab-nav {
            display: flex; list-style: none; padding: 0; margin: 0 0 30px 0;
            border-bottom: 2px solid #eee; flex-wrap: wrap;
        }
        .dd-tab-item {
            padding: 12px 20px; cursor: pointer; font-weight: 500; color: #888;
            border-bottom: 2px solid transparent; margin-bottom: -2px;
            transition: all 0.2s; font-size: 1.05rem;
        }
        .dd-tab-item:hover { color: #555; }
        .dd-tab-item.active {
            color: #222; font-weight: 700; border-bottom: 2px solid #333;
        }
        .dd-tab-pane { display: none; animation: fadeIn 0.4s ease; }
        .dd-tab-pane.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* [수정] 메인 타이틀 스타일 */
        .deep-dive-title {
            margin-top: 40px; 
            color: #222; 
            border-left: 5px solid #333; 
            padding-left: 12px;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 800;
            letter-spacing: -0.5px;
        }
        .deep-dive-title:first-child { margin-top: 0; }
        
        /* [NEW] 소제목 (문제점, 개선내용 등) 스타일 강화 */
        .deep-dive-container h4 {
            font-size: 1.05rem;
            font-weight: 700;
            color: #444;
            margin-top: 25px;
            margin-bottom: 10px;
            /*border-bottom: 1px solid #eee; /* 밑줄 추가로 제목 느낌 강조 */
            padding-bottom: 6px;
            display: block;
        }

        /* [NEW] 내용 들여쓰기 컨테이너 (왼쪽 라인 + 들여쓰기) */
        .dd-content {
            margin-left: 5px;
            padding-left: 18px;
            border-left: 3px solid #f4f4f4; /* 시각적 가이드 라인 */
            margin-bottom: 20px;
            color: #555;
            line-height: 1.65;
        }

        .deep-dive-divider {
            border: 0; border-top: 1px dashed #ccc; margin: 50px 0;
        }

        /* 이미지/비디오/설명 스타일 */
        img { max-width: 100%; height: auto; display: block; border-radius: 4px; border: 1px solid #f0f0f0; }
        video { max-width: 100%; height: auto; display: block; box-sizing: border-box; border-radius: 4px; }
        /* 1. 이미지 컨테이너: 아래 여백을 15px에서 4px로 대폭 줄임 */
        .indented-media { margin: 15px 0 4px 0; } 

        /* 2. 부연 설명(*): 위 여백을 6px에서 2px로 줄임 */
        .ref-note, .ref-note2 { 
            font-size: 0.85em; 
            color: #888; 
            margin-top: 2px; /* 여기를 줄였습니다 */
            display: block; 
        }
        .parenthesis-note { font-size: 0.9em; color: #666; }

        /* 토글 버튼 */
        .btn-toggle-top {
            flex-basis: 100%; width: 100%; padding: 15px 0; margin-top: 10px; 
            background-color: transparent; border: none; color: #555; 
            font-size: 0.9rem; font-weight: 700; cursor: pointer; 
            text-align: center; display: block; transition: background-color 0.2s;
        }
        .btn-toggle-bottom {
            width: 100%; padding: 15px 0; margin-top: 30px; 
            background-color: #f8f9fa; border: 0px solid #ddd; border-radius: 6px; 
            color: #555; font-size: 0.9rem; font-weight: 700; 
            cursor: pointer; text-align: center;
        }

        /* 테이블 스타일 */
        .perf-table {
            width: 100%; border-collapse: collapse; text-align: center; 
            font-size: 0.9em; border: 1px solid #dee2e6; margin-top: 10px;
            background-color: #fff;
        }
        .perf-table th { background-color: #f1f3f5; border-bottom: 2px solid #dee2e6; padding: 10px; color: #444; }
        .perf-table td { border-bottom: 1px solid #eee; padding: 10px; color: #555; }
        .text-success { color: #2ecc71; font-weight: bold; }
        
        /* 요약 정보 2열 그리드 */
        .project-details {
            display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;
        }
        .project-details h4 { margin-bottom: 8px; font-size: 1rem; color: #333; }
        .project-details ul { margin: 0; padding-left: 20px; color: #666; font-size: 0.95rem; }

        /* 반응형 */
        @media (max-width: 768px) {
            .navbar a { padding: 0 15px; font-size: 0.95rem; }
            .deep-dive-container { padding: 20px 15px; }
            .project-details { grid-template-columns: 1fr; }
            .dd-tab-item { padding: 10px 15px; font-size: 0.95rem; flex-grow: 1; text-align: center; }
        }
        @media (max-width: 1024px) { .page-container { padding: 0 15px; } }
    </style>
</head>
<body class="sub-page">

    <nav class="navbar">
        <ul>
            <li><a href="index.html">내 소개</a></li>
            <li><a href="experience.html" class="active">경력 기술</a></li>
            <li><a href="portfolio.html">포트폴리오</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </nav>
    
    <div class="page-container">
        
        <aside class="side-nav">
            <ul>
                <li><a href="#project-c-anchor" class="active">Project C</a></li>
                <li><a href="#metin-anchor">메틴: 파멸의 서곡</a></li>
                <li><a href="#cheonsangbi-anchor">천상비M</a></li>
            </ul>
        </aside>

        <main class="main-content">
            <div class="page-header"><h1>경력 기술</h1></div>
            
            <section id="experience-projects" class="content-section">
                
                <div id="project-c-anchor" class="project-item" style="flex-wrap: wrap; margin-bottom: 60px;">
                    <div class="project-image"><img src="images/ProjectC.png" alt="ProjectC"></div>
                    <div class="project-description">
                        <h3>Project C</h3><p class="project-date">2025.09 - Ing</p>
                        <p>20년 전 DirectX 기반의 PC 원작을 유니티 엔진을 통해 현대적으로 재해석하고, 모바일 환경에 맞춰 새롭게 개발 중인 신규 3D MMORPG 프로젝트입니다.</p>
                        <div class="project-details">
                            <div><h4>맵 변환 파이프라인 구축</h4><ul><li>DirectX 바이너리 맵 → Unity 자동 변환 툴 개발</li><li>수작업 배치 대비 작업 공수 약 90% 절감 달성</li></ul></div>
                            <div><h4>환경 오브젝트 최적화</h4><ul><li>단일 파티클 시스템 제어로 대규모 낙엽 연출 (DrawCall 최소화)</li><li>Mesh와 Shader를 활용한 저비용 고효율 환경 생태계(나비/새) 구현</li></ul></div>
                            <div><h4>캐릭터 애니메이션 설계</h4><ul><li>SubStateMachine와 BlendTree 기반의 상태 모듈화</li><li>OverrideController 도입으로 다중 직업/장비 관리 효율화</li></ul></div>
                        </div>
                    </div>

                    <button id="btn-proj-c-top" onclick="toggleDetails('proj-c-deep-dive', 'btn-proj-c-top')" class="btn-toggle-top">▼ 상세 기술 및 성과 보기</button>
                    
                    <div id="proj-c-deep-dive" style="display: none; flex-basis: 100%; width: 100%; margin-top: 10px;">
                        <div class="deep-dive-container">
                            <ul class="dd-tab-nav">
                                <li class="dd-tab-item active" onclick="switchTab(event, 'proj-c-tab-pipeline')">맵 파이프라인</li>
                                <li class="dd-tab-item" onclick="switchTab(event, 'proj-c-tab-env')">환경오브젝트 최적화</li>
                                <li class="dd-tab-item" onclick="switchTab(event, 'proj-c-tab-anim')">애니메이션 설계</li>
                            </ul>

                            <div id="proj-c-tab-pipeline" class="dd-tab-pane active">
                                <h3 class="deep-dive-title">맵 변환 파이프라인 (DirectX to Unity)</h3>
                                
                                <div class="indented-media">
                                    <img src="images/apConverter.png" alt="CDM 변환 과정" class="clickable-image">
                                    <p class="ref-note">* 자체 바이너리 포맷(.cdm)을 유니티 Terrain으로 자동 변환하는 툴 예시</p>
                                </div>

                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: -15px;">•  레거시 게임의 맵 데이터(.cdm)를 유니티 환경으로 완벽하게 이식</p>
                                    <p style="margin-bottom: -15px;">•  수작업이 불가능한 방대한 지형 및 수천 개의 오브젝트 배치 자동화</p>
                                </div>

                                <h4>개발 기간</h4>
                                <div class="dd-content">
                                    <p>25.09.29 ~ 25.11.21 (8주)</p>
                                </div>

                                <h4>개발 사항</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: 5px;"><strong>① 이진 데이터(Binary) 역직렬화</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>C++ 구조체로 패킹된 Header, HeightMap, TileIndex, ObjectInfo 파싱 필요</li>
                                        <li>C++(padding 포함)과 C# 간의 데이터 구조 차이 해결 필요</li>
                                    </ul>

                                    <p style="margin-bottom: 5px;"><strong>② 대규모 맵 최적화</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>통짜 지형 데이터를 런타임 성능을 고려하여 분할 생성해야 함</li>
                                    </ul>

                                    <p style="margin-bottom: 5px;"><strong>③ Terrain Textures</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>맵에서 텍스처 20개 이상 사용할 수 있어야 함</li>
                                        <li>분할된 터레인에 대해서 Baching이 깨지지 않아야 함</li>
                                    </ul>
                                </div>

                                <h4>구현 내용</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: 5px;"><strong>① 바이너리 파싱 및 데이터 정규화</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>BinaryReader와 Marshal을 사용하여 구조체 단위로 데이터 로드</li>
                                        <li>Short(-30,000 ~ 30,000) 범위의 높이 데이터를 Unity Terrain(0.0 ~ 1.0) 포맷에 맞춰 정규화(Normalization) 수행</li>
                                    </ul>

                                    <p style="margin-bottom: 5px;"><strong>② 지형 청크(Chunk) 시스템</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>전체 맵을 8x8(총 64개)의 작은 Terrain 타일로 자동 분할 생성</li>
                                        <li>Frustum Culling 효율을 높이고 LOD 관리가 용이하도록 구조화</li>
                                    </ul>

                                    <p style="margin-bottom: 5px;"><strong>③ Texture 2D Array 적용</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>폴더 내 모든 텍스처를 Texture2DArray로 병합하여 텍스처를 단일 Draw Call로 처리</li>
                                    </ul>
                                </div>

                                <h4>어려웠던 점</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: 5px;"><strong>이슈 : 레거시 포맷의 Padding 처리</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li><strong>문제 상황:</strong> C++ 구조체 정렬로 인해 생성된 더미 바이트로 인해 데이터 밀림 현상 발생</li>
                                        <li><strong>해결:</strong> br.ReadBytes()로 더미 데이터를 건너뛰거나, C# 구조체에 Placeholder 필드를 추가하여 오프셋을 정확히 맞춤</li>
                                    </ul>
                                </div>
                            </div>


                            <div id="proj-c-tab-env" class="dd-tab-pane">
                                <h3 class="deep-dive-title">나비 (Vert Shader)</h3>

                                <div class="indented-media">
                                    <img src="images/나비.gif" alt="나비 연출" class="clickable-image">
                                    <p class="ref-note">* Vertex Shader로 구현된 나비의 자연스러운 비행 (CPU 연산 0)</p>
                                </div>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: -15px;">•  맵의 생동감을 부여하기 위한 환경 구축</p>
                                    <p style="margin-bottom: -15px;">•  모바일 환경에서도 부하가 없는 초경량 연출 시스템 구현</p>
                                    <p style="margin-bottom: -15px;">•  자연스러운 나비의 움직임</p>
                                </div>
                                <h4>개발 기간</h4>
                                <div class="dd-content">
                                    <p>25.12.08 ~ 25.12.15 (일주일)</p>
                                </div>
                                <h4>개발 사항</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: -15px;"><strong>① 오브젝트의 중요도에 따른 배경 오브젝트의 리소스 제한</strong></p>
                                    <ul>
                                        <li>메인 캐릭터나 몬스터에 사용되는 Animator/SkinnedMesh 할당 불가</li>
                                    </ul>
                                    <p style="margin-bottom: -15px;"><strong>② 맵 전체에서 나비 밀도 유지</strong></p>
                                    <ul>
                                        <li>맵 곳곳에 나비가 있어야 하며, 성능에 영향을 끼치지 않아야 함</li>
                                    </ul>
                                    <p style="margin-bottom: -15px;"><strong>③ 데이터 기반 환경 제어</strong></p>
                                    <ul>
                                        <li>나비 생성 여부 및 종류를 쉽게 관리할 수 있어야 함</li>
                                    </ul>
                                </div>
                                <h4>구현 내용</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: -15px;"><strong>① Vertex Shader 애니메이션</strong></p>
                                    <ul style="list-style: none;">
                                    <div class="indented-media">
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; align-items: center;">
                                            <img src="images/butterfly_mat.png" alt="나비 shader math" class="clickable-image" style="width: 100%; height: auto;" onerror="this.style.display='none'">
                                            <p class="ref-note"><br><br><br><br><br><br><br><br>* Flap Speed : 날개짓 속도<br>* Wing Intensity : 날개 강도</p>
                                            <img src="images/sinx2.gif" alt="sin 그래프" class="clickable-image" style="width: 100%; height: auto;" onerror="this.style.display='none'">
                                        </div>
                                    </div>
                                    </ul>
                                    <ul>
                                        <li>sin 파동 함수를 응용하여 시간에 따라 Plane Mesh의 정점을 중심점으로부터 멀어질수록 더 강하게 이동시켜 날개짓 구현 (CPU 연산 0)</li>
                                        <li>ParticleSystem.Noise를 통해 나비의 불규칙하고 가벼운 이동 구현</li>
                                    </ul>
                                    <p style="margin-bottom: -15px;"><strong>② 플레이어 중심의 연출</strong></p>
                                    <ul>
                                        <li>플레이어 위치와 동기화하여, 적은 개체 수로도 플레이어 주변이 항상 꽉 차 보이도록 구현</li>
                                        <li>ParticleSystem.Simulation Space = World를 통해 플레이어가 움직여도 나비는 제자리에 있는 것처럼 보이게 함</li>
                                    </ul>
                                    <p style="margin-bottom: -15px;"><strong>③ 데이터 기반 환경 제어</strong></p>
                                    <ul>
                                        <li>맵 데이터(ScriptableObject)에 생성 여부, 종류, 최대 개수 등 파라미터화하여 기획자가 번들로 환경 제어할 수 있도록 구조화</li>
                                    </ul>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">나뭇잎 (Centralized Control)</h3>

                                <div class="indented-media">
                                    <img src="images/나뭇잎.gif" alt="나뭇잎 연출" class="clickable-image" onerror="this.style.display='none'">
                                    <p class="ref-note">* 중앙 제어 시스템으로 구현된 최적화된 낙엽 효과 (Draw Call 1회)</p>
                                </div>

                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: -15px;">•  숲 환경에서 쾌적한 렌더링 성능 확보</p>
                                    <p style="margin-bottom: -15px;">•  다양한 종류의 나무 데이터를 효율적으로 관리하는 시스템 구축</p>
                                </div>

                                <h4>개발 기간</h4>
                                <div class="dd-content">
                                    <p>25.12.16 ~ 25.12.19 (4일)</p>
                                </div>

                                <h4>개발 사항</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: 5px;"><strong>① 오브젝트의 중요도에 따른 배경 오브젝트의 성능 제한</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>각 나무에서 나뭇잎이 떨어지는 연출과 동시에 성능에 영향을 끼치지 않아야 함</li>
                                    </ul>
                                    <p style="margin-bottom: 5px;"><strong>② 데이터 관리 및 확장성</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>나무 종류에 따라 높이, 너비, 색상, 개수 등을 쉽게 관리할 수 있어야 함</li>
                                    </ul>
                                </div>

                                <h4>구현 내용</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: 5px;"><strong>① 중앙 제어 시스템 (Centralized Control)</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>플레이어 위치와 동기화하여 단 하나의 Particle System으로 나뭇잎 제어</li>
                                        <li>주변 Tree Layer를 탐색한 뒤, 해당 나무 위치에서 Emit함수를 호출하여 수동으로 입자 방출</li>
                                    </ul>

                                    <p style="margin-bottom: 5px;"><strong>② 경량화 패턴 (SO)</strong></p>
                                    <ul style="list-style: none;">
                                        <img src="images/SOLeafData.png" alt="나뭇잎 연출" class="clickable-image" onerror="this.style.display='none'">
                                    </ul>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>ScriptableObject에 높이/지름/색상/밀도 등 파라미터화하여 나무 종류에 따라 기획자가 번들로 제어할 수 있도록 구조화</li>
                                        <li>각 나무 객체는 데이터가 아닌 LeafData의 참조 값만 가지도록 하여 메모리 사용량을 최소화하고 데이터 재사용성을 극대화</li>
                                    </ul>
                                </div>

                                <!-- <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">광활한 시야 최적화 (LOD & Batching)</h3>
                                <h4>최적화 메커니즘</h4>
                                <div class="dd-content">
                                    <ul><li><strong>LOD + Atlas:</strong> 원거리(LOD 2) 객체들의 텍스처를 <strong>아틀라스로 통합</strong>하고 UV를 리매핑.</li><li><strong>결과:</strong> 서로 다른 모델도 원거리에서는 <strong>동일 마테리얼을 공유</strong>하여 Batching 가능.</li></ul>
                                    <table class="perf-table">
                                        <tr><th>구분</th><th>적용 전</th><th>적용 후</th><th>성과</th></tr>
                                        <tr><td>Avg DrawCalls</td><td>1,500</td><td>350</td><td class="text-success">75% 감소</td></tr>
                                    </table>
                                </div> -->
                            </div>

                            <div id="proj-c-tab-anim" class="dd-tab-pane">
                                <h3 class="deep-dive-title">캐릭터 애니메이션 설계</h3>
                                
                                <div class="indented-media">
                                    <img src="images/Animator1.png" alt="Animator 구조" class="clickable-image">
                                    <p class="ref-note">* Sub-State Machine과 Override Controller를 활용한 모듈식 구조 설계 예시</p>
                                </div>

                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: -15px;">•  3개의 클래스/직업군(50+)을 아우르는 애니메이션 로직 구축</p>
                                    <p style="margin-bottom: -15px;">•  각 변화 시작 모션을 가운데 BlendTree에 몰아넣음으로써 Transition 복잡도 감소 및 유지보수성 증가</p>
                                    <p style="margin-bottom: -15px;">•  기존 문자열 기반 호출 구조 유지하며 확장성 확보</p>
                                </div>

                                <h4>개발 기간</h4>
                                <div class="dd-content">
                                    <p>26.01.05 ~ 26.01.09 (5일)</p>
                                </div>

                                <h4>개발 사항</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: 5px;"><strong>① 상태에 따른 기존 애니메이션 호출 구조 유지</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>상태 이름으로 호출하는 구조 유지</li>
                                    </ul>

                                    <p style="margin-bottom: 5px;"><strong>② 단일 레이어의 복잡도 증가 (Spaghetti State)</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>Base Layer 안에 15개 이상의 상태가 혼재되어, Transition 연결 시 N:N의 복잡한 스파게티 구조</li>
                                    </ul>

                                    <p style="margin-bottom: 5px;"><strong>③ 방대한 직업군</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>3개 클래스(남/녀), 50여 개의 직업, 무기 4종 등 수백 가지 조합을 지원해야 하므로, 개별 FSM 제작 불가능 (Logic 재사용 필수)</li>
                                        <li>모든 직업이 동일한 상태 구조를 가지도록 표준화 필요</li>
                                    </ul>
                                </div>

                                <h4>구현 내용</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: 5px;"><strong>① 계층적 상태 호출</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>기존에는 단순히 "MOVE" 호출했다면, 개선 후에는 현재 상태(비무장/무장/탑승 비무장/ 탑승 무장)를 조합하여 SubStateMachine.State (예: SM_무장.MOVE) 형태로 호출되도록 래핑 함수 구현</li>
                                        <li>기존 코드의 수정 없이, 내부 로직만으로 정밀한 상태 제어 가능</li>
                                    </ul>

                                    <p style="margin-bottom: 5px;"><strong>② Sub-State Machine 모듈화</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li><strong>상태 그룹화:</strong> 비무장, 무장, 탑승 비무장, 탑승 무장 등 행동 양식에 따라 상태를 Sub-State Machine으로 그룹화</li>
                                        <li>상위 레이어에서는 그룹 간의 진입만 관리하므로 Transition 복잡도 감소</li>
                                    </ul>

                                    <p style="margin-bottom: 5px;"><strong>③ Animator Override Controller</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>직업별로 Animation Clip만 교체하는 Override Controller 방식 적용</li>
                                    </ul>

                                    <p style="margin-bottom: 5px;"><strong>④ Blend Tree</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>MoveSpeed 파라미터를 기준으로 Walk ↔ Run 모션과 속도를 선형 보간하여, 상태 전환 없이 자연스러운 가감속 표현.</li>
                                    </ul>
                                </div>

                                <h4>어려웠던 점</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: 5px;"><strong>이슈: Default State의 무한 재진입 현상</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li><strong>문제 상황 :</strong> 중분류 파라미터 값을 통해 Sub-State Machine에 진입한 상태에서 애니메이션 변경 함수 호출 시 Default State의 애니메이션이 재생</li>
                                    </ul>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li><strong>로직 개선 :</strong> Sub-StateMachine의 name을 포함하여 호출하도록 래핑 함수를 추가하여 제어</li>
                                    </ul>
                                </div>
                            </div>

                            <button onclick="toggleDetails('proj-c-deep-dive', 'btn-proj-c-top')" class="btn-toggle-bottom">▲ 상세 기술 및 성과 접기</button>
                        </div>
                    </div>
                </div>

                <div id="metin-anchor" class="project-item reverse" style="flex-wrap: wrap; margin-bottom: 60px;">
                    <div class="project-image"><img src="images/metin.jpg" alt="메틴 파멸의 서곡"></div>
                    <div class="project-description">
                        <h3>메틴: 파멸의 서곡</h3><p class="project-date">2024.05 - 2025.09 [출시]</p>
                        <p>PC 온라인 게임 '메틴' 시리즈의 IP를 계승하여 모바일 환경에 맞춰 새롭게 재탄생시킨 MMORPG 프로젝트입니다.<br>2024년 9월 유니티 엔진을 기반으로 정식 출시되어 안정적인 라이브 서비스를 이어가고 있습니다.</p>
                        
                        <div class="project-details">
                            <div><h4>최적화</h4><ul><li>LateBinding/메모리 중복 제거</li><li>DrawCall 최적화</li></ul></div>
                            <div><h4>SDK</h4><ul><li>Firebase-Auth/Messaging</li><li>Adjust, AIHelp</li></ul></div>
                            <div><h4>빌드</h4><ul><li>자동화 프로세스 구축</li><li>One, Galaxy, Play Store</li><li>IOS XCode 빌드</li></ul></div>
                            <div><h4>콘텐츠</h4><ul><li>코스튬, 공성전, 월드 던전</li><li>해골 시스템, 칭호, 이벤트</li></ul></div>
                        </div>
                    </div>

                    <button id="btn-metin-top" onclick="toggleDetails('metin-deep-dive', 'btn-metin-top')" class="btn-toggle-top">▼ 상세 기술 및 성과 보기</button>

                    <div id="metin-deep-dive" style="display: none; flex-basis: 100%; width: 100%; margin-top: 10px;">
                        <div class="deep-dive-container">
                            
                            <ul class="dd-tab-nav">
                                <li class="dd-tab-item active" onclick="switchTab(event, 'metin-tab-opt')">1. 최적화 성과</li>
                                <li class="dd-tab-item" onclick="switchTab(event, 'metin-tab-sdk')">2. SDK 연동</li>
                                <li class="dd-tab-item" onclick="switchTab(event, 'metin-tab-build')">3. 빌드/배포</li>
                                <li class="dd-tab-item" onclick="switchTab(event, 'metin-tab-contents')">4. 콘텐츠</li>
                            </ul>

                            <div id="metin-tab-opt" class="dd-tab-pane active">
                                <h3 class="deep-dive-title">SpriteAtlas LateBinding</h3>
                                <h4>문제점</h4>
                                <div class="dd-content">
                                    <p>Bundle 사용 시, 이미지를 <strong>SpriteAtlas.asset</strong>이 아닌 Bundle에 포함된 <strong>SpriteAtlas</strong>에서 직접 참조하여 <strong>SpriteAtlas</strong>가 메모리에 중복 적재되는 문제를 발견했습니다.</p>
                                    <p style="padding-left: 1em; text-indent: -1em; background-color: #f8f9fa; padding: 10px; border-radius: 4px; font-size: 0.9em;">
                                        <b>문제 상황 :</b> 게임 실행 직후 UICon, CashStore, SpriteAtlas 번들 다운로드 및 캐싱. (SpriteAtlas 15MB 적재)<br>
                                        &nbsp;&nbsp; - ex1) Inventory UI Open → UICon.asset에 포함된 SpriteAtlas 적재 (+15MB)<br>
                                        &nbsp;&nbsp; - ex2) 이어서 CashStore UI Open → CashStore.asset에 포함된 SpriteAtlas 적재 (+15MB)
                                    </p>
                                    <p>이로 인해 <strong>SpriteAtlas</strong>에서만 총 <strong>45MB</strong>의 메모리가 중복 사용되었습니다.</p>
                                </div>

                                <h4>개선 내용</h4>
                                <div class="dd-content">
                                    <p>① <strong>SpriteAtlas.asset</strong>에 포함될 .spriteatlas들의 Include Build = false; 로 수정했습니다.</p>
                                    <img src="images/SpriteAtlas_LateBinding_개선_내용1.png" alt="빌드 포함 여부 수정" class="clickable-image">
                                    <p class="ref-note">*빌드 포함 여부</p>
                                    <p>② 번들을 다운로드 하기 전에 <strong>SpriteAtlas 이벤트</strong>를 추가합니다.</p>
                                    <img src="images/SpriteAtlas_LateBinding_개선_내용2.png" alt="SpriteAtlas 이벤트 추가" class="clickable-image">
                                    <p class="ref-note">*spriteAtlasManager.atlasRequested : 객체가 .spriteatlas를 참조하지만 찾지 못할 때 호출 이벤트</p>
                                    <p>③ 번들 다운로드 받고 캐싱 후 타 번들이 .spriteAtlas를 찾지 못하도록 <strong>bundle.Unload(false)</strong>를 호출합니다.</p>
                                </div>

<h4>결과</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: 20px;">총 메모리 사용량 68.4MB → 11.9MB 로 최적화 (<span style="color:#e74c3c; font-weight:bold;">약 56.5MB 절감</span>)</p>
                                    
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; align-items: start;">
                                        
                                        <div>
                                            <div style="margin-bottom: 8px; min-height: 40px;">
                                                <strong>LateBinding 이전</strong>
                                                <div class="parenthesis-note" style="line-height: 1.2;">(IconAtlas * 24ea / BgAtlas * 8ea / SpriteAtlas * 6ea)</div>
                                            </div>
                                            <img src="images/SpriteAtlas_LateBinding_결과1.png" alt="LateBinding 결과 전" class="clickable-image" style="width: 100%; border: 1px solid #eee;">
                                            <p style="font-size: 0.9em; color: #666; margin-top: 8px; line-height: 1.4;">
                                                - UICon.asset 하나만 사용했음에도 Texture2D 메모리가 <strong>68MB</strong> 증가 (중복 적재 발생)
                                            </p>
                                        </div>

                                        <div>
                                            <div style="margin-bottom: 8px; min-height: 40px;">
                                                <strong>LateBinding 이후</strong>
                                                <div class="parenthesis-note" style="line-height: 1.2;">(IconAtlas * 8ea / BgAtlas * 4ea / SpriteAtlas * 3ea)</div>
                                            </div>
                                            <img src="images/SpriteAtlas_LateBinding_결과2.png" alt="LateBinding 결과 후" class="clickable-image" style="width: 100%; border: 1px solid #eee;">
                                        </div>

                                    </div>
                                </div>

                                <h4>사용 기술</h4>
                                <div class="dd-content">
                                    <ul><li><strong>SpriteAtlasManager.atlasRequested</strong></li><li><strong>AssetBundle.Unload</strong></li><li>Unity <strong>SpriteAtlas Late Binding</strong></li></ul>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">SharedMap SpriteAtlas</h3>
                                <h4>문제점</h4>
                                <div class="dd-content">
                                    <!-- <img src="images/SharedMap_SpriteAtlas_문제점.png" alt="SharedMap SpriteAtlas 문제점" class="clickable-image" style="width: 60%; display: block;"> -->
                                    <ul><li>각 맵마다 별도 Sprite 폴더 및 SpriteAtlas를 사용하고 있음에도, 실제 게임 실행 시 다른 맵의 SpriteAtlas가 참조되어 <strong>불필요한 중복 로딩</strong>이 발생했습니다.</li><li>맵 제작 시 여러 맵에서 사용되는 하나의 맵 프리팹 사용으로 인한 <strong>SpriteAtlas 중복 적재</strong>를 확인했습니다.</li></ul>
                                </div>
                                <h4>개선 내용</h4>
                                <div class="dd-content">
                                    <!-- <img src="images/SharedMap_SpriteAtlas_개선_내용.png" alt="SharedMap SpriteAtlas 개선 내용" class="clickable-image" style="width: 60%; display: block;"> -->
                                    <p><strong>중복 방지 툴</strong>을 실행하여 공용으로 사용하는 Sprite들을 모아 <strong>SharedMap_SpriteAtlas.spriteatals</strong>를 제작하고, 각 맵 Prefab의 참조를 수정했습니다.</p>
                                </div>
                                <h4>결과</h4>
                                <div class="dd-content">
                                    <p>Texture 메모리 사용량 <strong>25.2MB → 14.4MB</strong> (약 10.8MB 감소)</p><img src="images/SharedMap_SpriteAtlas_결과1.png" alt="SharedMap SpriteAtlas 결과1" class="clickable-image">
                                    <p>전체 메모리 사용량 <strong>1.39GB → 1.31GB</strong> (약 88MB 절감)</p><img src="images/SharedMap_SpriteAtlas_결과2.png" alt="SharedMap SpriteAtlas 결과2" class="clickable-image" style="width: 80%; display: block;">
                                </div>
                                <h4>사용 기술</h4>
                                <div class="dd-content">
                                    <ul><li><strong>Memory Profiler</strong>, <strong>Custom Editor Tool</strong></li><li><strong>AssetBundle</strong></li></ul>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">Tilemap Property 중복 적재 제거</h3>
                                <h4>문제점</h4>
                                <div class="dd-content">
                                    <p>맵 이동 시 이전 맵의 Resource들이 해제되지 않고 누적되어 <strong>최대 208MB까지 중복 적재</strong>되는 현상이 발생했습니다.</p>
                                    <img src="images/Tilemap_Property_중복_적재_제거_문제.png" alt="Tilemap Property 문제" class="clickable-image" style="width: 40%; display: block;">
                                </div>
                                <h4>개선 내용</h4>
                                <div class="dd-content">
                                    <img src="images/Tilemap_Property_중복_적재_제거_개선_내용.png" alt="Tilemap Property 개선 내용" class="clickable-image">
                                    <p><strong>AssetBundle</strong> 로드 시에도 메모리에 적재됨을 확인했습니다. 적재된 메모리를 <strong>null처리</strong>로 Reference Count 감소 후, <strong>UnloadUnusedAssets</strong> 함수로 제거하여 이중 적재 및 누적 문제를 해결했습니다.</p>
                                </div>
                                <h4>결과</h4>
                                <div class="dd-content">
                                    <p>이전 맵 리소스 누적 문제 제거. 30~50MB 누적 → <strong>약 7.7MB만 사용</strong>.</p><img src="images/Tilemap_Property_중복_적재_제거_결과1.png" alt="Tilemap Property 결과1" class="clickable-image">
                                    <p>맵 6개 이동 시 메모리 증가량 비교: 최적화 전 60MB 증가 → <strong>최적화 후 30MB 감소</strong>.</p><img src="images/Tilemap_Property_중복_적재_제거_결과2.png" alt="Tilemap Property 결과2" class="clickable-image">
                                </div>
                                <h4>사용 기술</h4>
                                <div class="dd-content">
                                    <ul><li><strong>Memory Profiler</strong></li><li><strong>AssetBundle</strong>, <strong>Resources.UnloadUnusedAssets</strong></li></ul>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">상시 적재되지만 사용하지 않는 AssetBundle 제거</h3>
                                <h4>문제점</h4>
                                <div class="dd-content">
                                    <p>Login Scene에서만 필요한 AssetBundle(영상, UI 등)이 게임 플레이 중에도 상시 메모리에 적재되는 문제를 발견했습니다. <strong>RenderTexture</strong>의 명시적인 해제 처리가 미흡한 점을 확인했습니다.</p>
                                </div>
                                <h4>개선 내용</h4>
                                <div class="dd-content">
                                    <p>기존 AssetBundle 캐싱 방식을 <strong>GameObject에서 AssetBundle 자체로 변경</strong>했습니다. 실제 사용 시에만 GameObject로 변환하여 사용하도록 구조를 변경했습니다. <strong>RenderTexture.Release()</strong>를 통해 메모리를 명시적으로 해제했습니다.</p>
                                </div>
                                <h4>결과</h4>
                                <div class="dd-content">
                                    <img src="images/상시_적재되지만_사용하지_않는_AssetBundle_제거.png" alt="AssetBundle 제거 결과" class="clickable-image">
                                    <p>Login 전용 번들의 불필요한 상시 메모리 점유 해제로 Render Texture 메모리 해제. (<strong>-23.7MB</strong>)</p>
                                </div>
                                <h4>사용 기술</h4>
                                <div class="dd-content">
                                    <ul><li><strong>Memory Profiler</strong></li><li><strong>AssetBundle</strong>, <strong>Resources.UnloadUnusedAssets</strong></li><li><strong>VideoPlayer</strong>, <strong>RenderTexture.Release()</strong></li></ul>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">Big Size Texture 분류 및 번들화</h3>
                                <h4>문제점</h4>
                                <div class="dd-content">
                                    <img src="images/Big_Size_Texture_분류_및_번들화.png" alt="Big Size Texture 문제점" class="clickable-image">
                                    <p>SpriteAtlas 한 페이지 전체를 차지하는 고해상도 Texture를 다수 발견했습니다. Atlas에 포함 시 <strong>Batch</strong> 수 감소 효과가 없고 불필요하게 Bundle 크기만 증가시키는 문제를 확인했습니다.</p>
                                </div>
                                <h4>개선 내용</h4>
                                <div class="dd-content">
                                    <p>비효율적인 Sprite들을 선별하여, 큰 이미지들로만 구성된 별도의 <strong>AssetBundle</strong>로 번들화를 진행했습니다.</p>
                                </div>
                                <h4>결과</h4>
                                <div class="dd-content">
                                    <p>29페이지의 SpriteAtlas를 4페이지로 줄이며 <strong>Batch</strong> 수 감소 및 메모리 약 2~5MB 절감. 번들 사이즈 <strong>52.2MB → 7.2MB</strong>.</p>
                                </div>
                            </div>

                            <div id="metin-tab-sdk" class="dd-tab-pane">
                                <h3 class="deep-dive-title">Firebase 소셜 로그인 기능 구현 (Google, Apple, Guest)</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>AOS 및 iOS 환경에서 최신 Firebase SDK를 사용하여 Google, Apple, Guest 로그인 기능을 통합 구현</li>
                                        <li>SDK 의존성 관리 및 플랫폼별 로그인 흐름을 일관성 있게 유지</li>
                                    </ul>
                                </div>
                                <h4>구현 방식</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>기존 `.unitypackage` 방식의 SDK를 `.tgz` (UPM) 방식으로 마이그레이션하여 의존성 관리를 용이하게 했습니다.</li>
                                        <li>이를 통해 향후 구글 정책(예: 16KB 메모리 지원) 변경에 따른 SDK 버전 업그레이드에 신속하게 대응할 수 있는 기반을 마련했습니다.</li>
                                    </ul>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">Firebase Push Messaging 기능 구현</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>Android 및 iOS 플랫폼에서 Firebase Cloud Messaging(FCM)을 활용한 푸시 알림 수신 기능 구현</li>
                                        <li>플랫폼별 정책(권한) 변경에 유연하게 대응하고 안정적인 알림 시스템 구축</li>
                                    </ul>
                                </div>
                                <h4>구현 방식</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>Firebase SDK 최신 버전 사용 (.tgz 방식)</li>
                                        <li>AOS : AndroidManifest에 FCM 관련 권한 및 서비스 등록</li>
                                        <li>IOS : APNs 인증 키 연동 및 Xcode 프로젝트 설정, 백그라운드/종료 상태 수신 처리 구현</li>
                                    </ul>
                                </div>
                                <h4>주요 문제 해결</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li><strong>iOS 플랫폼 Firebase Messaging 활성화:</strong> 입사 당시 iOS 플랫폼에서 FCM이 동작하지 않아 사용이 제한되던 문제를 해결했습니다. APNs 인증서 및 Xcode 프로젝트 설정을 재구성하고 초기화 로직을 수정하여, 프로젝트 전사적으로 iOS 푸시 알림 기능을 활성화시켰습니다.</li>
                                        <li><strong>Android 최신 API 레벨 대응:</strong> 기존 Android 13(API 33) 대응을 넘어, API 34, 35로 업그레이드하는 과정에서 발생하는 푸시 알림 권한 누락 문제를 해결하여 최신 OS 환경에서의 알림 수신 안정성을 확보했습니다.</li>
                                    </ul>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">Adjust (광고 성과 측정)</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>Adjust SDK를 Unity 프로젝트에 연동하여, 광고 유입 분석 및 앱 내 사용자 행동 이벤트 트래킹 기능 구현</li>
                                        <li>마케팅 채널별 성과 측정을 위한 어트리뷰션 데이터 수집 및 전송 자동화</li>
                                    </ul>
                                </div>
                                <h4>구현 방식</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>Adjust 공식 Unity SDK를 .unitypackage로 설치하여 Android/iOS 환경 모두 지원</li>
                                        <li>앱 실행 시 Adjust 자동 초기화 처리</li>
                                        <li>주요 인앱 이벤트 (회원가입, 튜토리얼 완료, 결제 등)에 대해 Adjust 이벤트 전송 로직 유닛화</li>
                                    </ul>
                                </div>
                                <h4>주요 문제 해결</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li><strong>iOS 광고 추적 정확도 개선 (ATT):</strong> Adjust SDK가 연동되어 있었으나, iOS의 앱 추적 투명성(ATT) 권한 요청 로직이 누락되어 마케팅 데이터가 정확히 집계되지 않는 문제를 발견했습니다. 앱 실행 시점에 ATT 권한 팝업을 노출하도록 플로우를 수정하여 광고 성과 측정의 정확도를 확보했습니다.</li>
                                    </ul>
                                </div>
                            </div>

                            <div id="metin-tab-build" class="dd-tab-pane">
                                <h3 class="deep-dive-title">빌드 설정 자동화 (Editor Tool)</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>Unity Editor 내에서 빌드 관련 <strong>주요 설정(버전, 서버 타입 등)을 간편하게 관리</strong>하고 적용하는 프로세스 자동화</li>
                                        <li>수동 설정으로 인한 <strong>휴먼 에러를 줄이고 빌드 준비 시간을 단축</strong>.</li>
                                        <li>SVN 리비전 자동 조회 등 <strong>빌드 정보의 정확성 확보</strong></li>
                                    </ul>
                                </div>
                                <h4>주요 기능 (BuildProcessEditorWindow.cs)</h4>
                                <div class="dd-content">
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li><strong>SVN 업데이트 자동화:</strong> .bat 파일 연동을 통해 빌드 전 TortoiseSVN 프로젝트 업데이트 수행.</li>
                                        <li><strong>빌드 옵션 관리:</strong> 서버 환경(Live/QA), 번들 로드 방식, 앱/리소스 버전을 통합 관리.</li>
                                        <li><strong>리비전 동기화:</strong> svn info 명령어로 리비전을 조회하여 빌드 넘버에 자동 반영.</li>
                                        <li><strong>버전 자동 계산:</strong> 현재 설정 기반으로 다음 스토어 버전(+1) 및 최신 리비전 프리뷰 제공.</li>
                                        <li><strong>설정 일괄 적용:</strong> PlayerSettings(Android/iOS 버전 코드) 및 인게임 관리 객체에 설정 즉시 반영.</li>
                                        <li><strong>에셋 정리:</strong> 빌드 전 SpriteAtlas 및 StreamingAssets 폴더 초기화(삭제) 기능.</li>
                                        <li><strong>키스토어 설정:</strong> Android Keystore 비밀번호 입력 및 관리 편의성 제공.</li>
                                    </ul>
                                </div>
                                <h4>자동화 프로세스 ("자동 빌드 세팅" 버튼)</h4>
                                <div class="dd-content">
                                    <ul>
                                        <img src="images/빌드 에디터 툴.png" alt="빌드 에디터 툴" class="clickable-image"> <p class="ref-note">*유니티 에디터 빌드 툴</p>
                                        <li><strong>원클릭 실행</strong>: 버튼 클릭 한 번으로 [다음 빌드 설정 계산 → 설정값 적용(SceneProcess, PlayerSettings) → 씬 저장 → 에셋 폴더 정리 → 비밀번호 설정]까지 빌드 전 필요한 모든 준비 단계를 순차적으로 자동 실행.</li>
                                    </ul>
                                </div>
                                <h4>기대 효과</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>빌드 전 준비 과정의 복잡성 감소 및 소요 시간 단축.</li>
                                        <li>버전 정보, 서버 설정 등 중요 설정 누락/오입력 방지.</li>
                                        <li>팀 내 표준화된 빌드 준비 절차 확립에 기여.</li>
                                    </ul>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">Xcode 프로젝트 자동 설정 (PostProcess)</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>Unity iOS 빌드 후 Xcode 프로젝트에 필요한 반복적인 설정 작업을 C# 스크립트로 자동화하여 빌드 시간 단축 및 오류 감소.</li>
                                    </ul>
                                </div>
                                <h4>자동화 내용 (XcodePostProcess.cs)</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li><strong>[PostProcessBuild]</strong> 어트리뷰트로 빌드 후 자동 실행.</li>
                                        <li><strong>필수 Framework 자동 추가</strong>: `PBXProject` API를 사용하여 `UserNotifications`, `StoreKit`, 광고 관련 프레임워크 등을 프로젝트에 자동으로 연결.</li>
                                        <li><strong>Capability 설정 자동화</strong>: `ProjectCapabilityManager`를 활용하여 `Sign in with Apple`, `Push Notifications`, `Background Modes` 등 필요한 기능을 자동으로 활성화.</li>
                                        <li><strong>Info.plist 자동 수정</strong>: `PlistDocument` API를 사용하여 ATT(앱 추적 투명성) 권한 문구, 카메라 사용 문구, 암호화 사용 여부 등 필요한 항목들을 자동으로 추가 및 수정.</li>
                                        <li><strong>Build Settings 자동 구성</strong>: `PBXProject` API를 사용하여 Architectures, Supported Platforms, Code Signing Identity 등 주요 빌드 옵션을 스크립트로 미리 설정.</li>
                                        <li><strong>기타 처리</strong>: `GoogleService-Info.plist` 파일의 중복 포함 방지 등 빌드 과정의 자잘한 이슈들을 자동으로 처리.</li>
                                    </ul>
                                </div>
                                <h4>기대 효과</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>Xcode 프로젝트 설정에 소요되는 수동 작업 시간 대폭 단축.</li>
                                        <li>설정 누락이나 실수로 인한 빌드 오류 가능성 감소.</li>
                                        <li>팀 내 일관된 빌드 환경 유지에 기여.</li>
                                    </ul>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">IOS 배포 프로세스 관리</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>TestFlight를 통한 내부/외부 테스트 빌드 프로세스 확립.</li>
                                        <li>App Store 최초 심사 및 업데이트 심사 통과를 위한 준비 및 대응 전략 수립.</li>
                                    </ul>
                                </div>
                                <h4>주요 업무</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li><strong>Provisioning Profile & Certificates 관리</strong>: Apple Developer 사이트에서 인증서 및 프로비저닝 프로파일(Development, Ad-Hoc, Distribution)을 발급하고 Xcode 프로젝트에 정확히 연동.</li>
                                        <li><strong>TestFlight 배포</strong>: Archive 완료 후 생성된 .ipa 파일을 Application Loader 또는 Xcode Organizer를 통해 TestFlight에 업로드하고 내부/외부 테스터 그룹에 배포하여 사전 검증 진행.</li>
                                        <li><strong>App Store 심사 제출 및 대응</strong>: 심사 제출 시 필요한 메타데이터(스크린샷, 설명 등)를 정확히 준비하고, 심사 과정 중 발생하는 리젝(Reject) 사유를 파악하고 신속하게 대응.</li>
                                    </ul>
                                </div>
                                <br> <h4>최초 심사 시 주요 유의사항 (경험 기반)</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li><strong>앱 용량 및 데이터 다운로드 (Guideline 2.5)</strong>:
                                            <ul style="padding-left: 20px;">
                                                <li>빌드 용량 최소화: 초기 빌드(.ipa) 용량이 과도하게 크지 않도록 관리 (경험상 750MB 통과, 1GB 초과 시 다운로드 시간 문제 발생 가능성).</li>
                                                <li>번들 다운로드 시간: 게임 시작 시 다운로드하는 번들 용량이 너무 크면 다운로드 시간 초과(경험상 2GB, 30분 이상 소요 시 리젝)로 리젝될 수 있음. → 해결: 주요 아틀라스, UI 리소스 등 필수 번들은 Resources 폴더에 포함시켜 빌드하여 초기 다운로드 시간 단축.</li>
                                            </ul>
                                        </li>
                                        <li><strong>콘텐츠 접근성 및 테스트 용이성 (Guideline 2.1)</strong>:
                                            <ul style="padding-left: 20px;">
                                                <li>튜토리얼 스킵 기능: 심사자가 모든 콘텐츠를 빠르게 테스트할 수 있도록 튜토리얼 스킵 버튼 제공 필수 (또는 튜토리얼 off 빌드, 스킵 계정 제공).</li>
                                                <li>모든 콘텐츠 개방: 레벨 제한, 특정 조건 달성 등으로 잠겨 있는 콘텐츠 없이, 심사 시점에는 모든 메뉴와 기능에 접근 가능해야 함.</li>
                                            </ul>
                                        </li>
                                        <li><strong>계정 관리 (Guideline 5.1.1)</strong>:
                                            <ul style="padding-left: 20px;">
                                                <li>계정 삭제 기능: 앱 내(ex: 로그인 화면)에 명확하게 보이는 계정 삭제 기능 필수 구현. (리뷰어가 못 찾을 시 스크린샷 첨부하여 회신)</li>
                                                <li>로그인 옵션: 최소 2가지 이상의 소셜 로그인 + 게스트 로그인 기능 제공.</li>
                                            </ul>
                                        </li>
                                        <li><strong>심사용 빌드 기능 제한</strong>:
                                            <ul style="padding-left: 20px;">
                                                <li>웹뷰/외부 SDK 비활성화: 도움말(웹뷰), 고객센터(AIHelp 등 외부 SDK 연동) 등 앱 외부로 연결되거나 외부 SDK UI가 직접 노출되는 기능은 심사 빌드에서 반드시 비활성화 처리. (UI 버튼 자체는 존재해도 무방하나, 기능적으로 동작하지 않아야 함)</li>
                                                <li>쿠폰 등 특정 기능: 프로모션 코드 입력 등 일부 기능은 심사 시 제외 필요.</li>
                                            </ul>
                                        </li>
                                        <li><strong>정확한 메타데이터 (Guideline 2.3.3)</strong>:
                                            <ul style="padding-left: 20px;">
                                                <li>스크린샷 일치: App Store Connect에 제출하는 미리보기 스크린샷은 반드시 심사용 빌드에서 접근 가능한 콘텐츠만을 포함해야 함 (미구현 콘텐츠 스크린샷 포함 시 리젝).</li>
                                            </ul>
                                        </li>
                                    </ul>
                                    <p style="font-size: 0.9em; color: #6c757d;">*상기 내용은 MetinM 출시 경험 기반이며, Apple 심사 지침은 변경될 수 있습니다.</p>
                                </div>
                            </div>

                            <div id="metin-tab-contents" class="dd-tab-pane">
                                <h3 class="deep-dive-title">코스튬 시스템 (외형)</h3>
                                
                                <div class="indented-media">
                                    <video controls muted loop playsinline autoplay style="width: 100%; border-radius: 8px;">
                                        <source src="video/코스튬7.mp4" type="video/mp4">
                                        영상을 지원하지 않는 브라우저입니다.
                                    </video>
                                    <p class="ref-note">* 실시간 외형 변경 및 스탯/스킬 부여가 가능한 코스튬 시스템</p>
                                </div>

                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: -15px;">•  캐릭터의 개성을 표현할 수 있는 부위별 외형 커스터마이징 제공</p>
                                    <p style="margin-bottom: -15px;">•  추가 BM 확보 및 공성/PVP 활성화를 위한 추가 능력치(스탯/스킬) 시스템 구축</p>
                                </div>

                                <!-- <h4>개발 사항</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: 5px;"><strong>① 장비/변신 시스템과의 우선순위 충돌</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>기존 장비와 변신 시스템 위에 코스튬이 덧입혀져야 하므로, 외형 적용의 우선순위 관리가 필요함. (변신 > 코스튬 > 장비 순)</li>
                                        <li>강화 시 스텟 및 스킬 표기</li>
                                    </ul>

                                    <p style="margin-bottom: 5px;"><strong>② 강화(아인)에 따른 동적 연출 및 데이터 관리</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li>단순 장착뿐만 아니라 강화(아인 부여) 단계에 따라 UI 이펙트, 추가 능력치, 전용 스킬이 실시간으로 활성화되어야 함</li>
                                    </ul>
                                </div> -->

                                <h4>주요 기능</h4>
                                <div class="dd-content">
                                <p style="margin-bottom: 5px;"><strong>① 외형 관리자</strong></p>
                                    <ul style="list-style: none;">
                                        <div class="indented-media" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 5px;">
                                            <img src="images/Contents/Costume/코스튬4.png" alt="코스튬 4" class="clickable-image" style="width: 100%;">
                                            <img src="images/Contents/Costume/코스튬5.png" alt="코스튬 5" class="clickable-image" style="width: 100%;">
                                        </div>
                                        <p class="ref-note2" style="margin-top: 0; margin-bottom: 15px;">*산타 코스튬으로 전부 외형 적용됐을 때</p>
                                    </ul>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li><strong>렌더링 우선순위:</strong> 변신 여부를 우선 체크 후, 코스튬 데이터 존재 시 장비 메쉬를 덮어쓰거나 비활성화 처리 (변신 > 코스튬 > 장비 순)</li>
                                    </ul>

                                    <p style="margin-bottom: 5px;"><strong>② UI 시스템</strong></p>
                                    <ul style="list-style: none;">
                                        <div class="indented-media" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 5px;">
                                            <img src="images/Contents/Costume/코스튬9.png" alt="코스튬 9" class="clickable-image" style="width: 100%;">
                                            <img src="images/Contents/Costume/코스튬6.png" alt="코스튬 6" class="clickable-image" style="width: 100%;">
                                        </div>
                                        <p class="ref-note2" style="margin-top: 0; margin-bottom: 15px;">*산타 코스튬으로 전부 외형 적용됐을 때</p>
                                    </ul>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li><strong>인벤토리 시스템</strong> : 등급에 따른 정렬 및 이펙트, 탭, 팝업, 수집/강화 바로가기</li>
                                        <li><strong>수집 시스템</strong> : 등급에 따른 정렬 및 수집 달성에 따른 머터리얼 변경</li>
                                    </ul>

                                    <p style="margin-bottom: 5px;"><strong>③ 강화(아인) 시스템</strong></p>
                                    <ul style="margin-top: 0; margin-bottom: 15px;">
                                        <li><strong>스탯 동기화 : </strong> 강화 단계별 스탯 테이블 조회 및 성공 시 서버 통신을 통해 능력치 즉시 갱신</li>
                                        <li><strong>시각적 피드백 : </strong> MAX 레벨(100) 달성 시 인벤토리 슬롯에 전용 이펙트(Gold Material) 적용</li>
                                    </ul>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">칭호</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <p style="margin-bottom: -15px;">•  플레이어의 성취감 고취 및 자기표현(과시) 수단 제공</p>
                                    <p style="margin-bottom: -15px;">•  다양한 게임 내 활동(PVP, 사냥, 수집)에 대한 보상 체계 구축</p>
                                </div>
                                <h4>주요 기능</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>업적 달성 보상</li>
                                        <li>부가 능력치 부여</li>
                                        <li>다양한 목표 달성을 통해 자신을 소개할 수 있는 칭호 획득 및 노출</li>
                                        <li>여러 종류(기한/조건/달성)의 칭호로 유저간 경쟁심 증가</li>
                                    </ul>
                                </div>
                                <h4>구현 내용</h4>
                                <div class="dd-content">
                                    <div><strong></strong>칭호 UI - 장착</div>
                                    <div class="indented-media">
                                    <div class="indented-media" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 5px;">
                                        <img src="images/Contents/TitleOf/칭호2.png" alt="칭호 장착" class="clickable-image" style="width: 100%;">
                                        <img src="images/Contents/TitleOf/칭호3.png" alt="칭호 적용" class="clickable-image" style="width: 100%;">
                                        <p class="ref-note2">*캐릭터 상단에 실시간으로 칭호가 적용됩니다.</p>
                                    </div>
                                    <div class="indented-media" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 5px;">
                                        <img src="images/Contents/TitleOf/칭호4.png" alt="칭호4" class="clickable-image" style="width: 100%;">
                                        <img src="images/Contents/TitleOf/칭호5.png" alt="칭호5" class="clickable-image" style="width: 100%;">
                                        <p class="ref-note2">*적용 중인 칭호 효과 UI.</p>
                                    </div>
                                    <br>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">공성전 시스템</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>다수의 유저가 참여하는 실시간 대규모 공성 전투 구현 및 길드 간 경쟁 콘텐츠 제공.</li>
                                        <li>안정적인 서버 통신과 최적화를 통해 원활한 플레이 경험 보장.</li>
                                    </ul>
                                </div>
                                <h4>주요 기능</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>성 소유권 쟁탈 (점령/수성 규칙).</li>
                                        <li>공성 상태 관리 및 공/수성 콘텐츠 (던전).</li>
                                        <li>세금 징수 및 분배.</li>
                                    </ul>
                                </div>
                                <h4>구현 내용</h4>
                                <div class="dd-content">
                                    <div><strong>메인 메뉴 - 공성전 버튼</strong></div>
                                    <div class="indented-media"><img src="images/Contents/TitleOf/칭호1.png" alt="칭호 1" class="clickable-image"></div>
                                    <br>
                                    <div><strong>공성전 UI - 평상 → 신청 → 전초전 → 공성전</strong></div>
                                    <div class="indented-media"><img src="images/Contents/Siege/공성1.png" alt="공성 1" class="clickable-image"></div>
                                    <p class="ref-note2">*공성 선포 시 켜지는 이펙트.</p>
                                    <br>
                                    <div><strong>공성전 UI - 입장</strong></div>
                                    <div class="indented-media"><img src="images/Contents/Siege/공성2.png" alt="공성 2" class="clickable-image"></div>
                                    <br>
                                    <div><strong>공성전 UI - 안내</strong></div>
                                    <div class="indented-media"><img src="images/Contents/Siege/공성3.png" alt="공성 3" class="clickable-image"></div>
                                    <br>
                                    <div><strong>공성전</strong></div>
                                    <br>
                                    <div><strong>공성전 UI - 성 관리 탭(수성 콘텐츠)</strong></div>
                                    <div class="indented-media"><img src="images/Contents/Siege/공성11.png" alt="공성 11" class="clickable-image"></div>
                                    <div class="indented-media"><img src="images/Contents/Siege/공성12.png" alt="공성 12" class="clickable-image"></div>
                                    <p class="ref-note2">*수성 외 클랜들이 공성전 신청 시 추가로 부담할 비용 설정.</p>
                                    <div class="indented-media"><img src="images/Contents/Siege/공성13.png" alt="공성 13" class="clickable-image"></div>
                                    <p class="ref-note2">*쌓인 세금의 금화 회수.</p>
                                    <br>
                                    <div><strong>공성전 UI - 수성을 제외한 클랜들이 성장할 수 있는 공성 던전(공성 콘텐츠)</strong></div>
                                    <div class="indented-media"><img src="images/Contents/Siege/공성던전.png" alt="공성던전" class="clickable-image"></div>
                                    <p class="ref-note2">*현재 수성의 등급에 따라 젠되는 몬스터들이 달라짐을 표시.</p>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">월드 던전</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>여러 서버 유저들이 만나는 공용 던전 구현.</li>
                                        <li>서버 간 경쟁 및 협력 콘텐츠 제공.</li>
                                    </ul>
                                </div>
                                <h4>주요 기능</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>월드 던전 입장.</li>
                                        <li>월드 던전 랭킹 및 보상 열람.</li>
                                    </ul>
                                </div>
                                <h4>구현 내용</h4>
                                <div class="dd-content">
                                    <div><strong>월드 던전 UI</strong></div>
                                    <div class="indented-media"><img src="images/Contents/Dungeon/던전1.png" alt="던전 1" class="clickable-image"></div>
                                    <div class="indented-media"><img src="images/Contents/Dungeon/던전2.png" alt="던전 2" class="clickable-image"></div>
                                    <br>
                                    <div><strong>월드 던전 UI - 랭킹 및 랭킹 보상</strong></div>
                                    <div class="indented-media"><img src="images/Contents/Dungeon/던전3.png" alt="던전 3" class="clickable-image"></div>
                                    <p class="ref-note2">*주간 랭킹으로 집계하여 보상을 지급합니다.</p>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">해골(허수아비 수련 시스템)</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>저레벨 구간 캐릭터 성장 보조.</li>
                                        <li>말풍선을 통한 공지 및 유저간 소통 활성화.</li>
                                    </ul>
                                </div>
                                <h4>주요 기능</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>해골 소환</li>
                                        <li>해골 피격 시 말풍선 출력</li>
                                        <li>맵에 해골 UI 출력 및 해골 위치로 워프</li>
                                    </ul>
                                </div>
                                <h4>구현 내용</h4>
                                <div class="dd-content">
                                    <div><strong>해골 UI - 소환 시 문구 입력 (해골 피격 시 말풍선 출력용 문구)</strong></div>
                                    <div class="indented-media"><img src="images/Contents/Skull/해골0.png" alt="해골 0" class="clickable-image"></div>
                                    <div class="indented-media"><img src="images/Contents/Skull/해골1.png" alt="해골 1" class="clickable-image"></div>
                                    <div class="indented-media"><img src="images/Contents/Skull/해골2.png" alt="해골 2" class="clickable-image"></div>
                                    <p class="ref-note2">*N초에 한 번 입력한 말풍선으로 출력되는 모습.</p>
                                    <br>
                                    <div><strong>해골 UI - 중복 소환 불가 및 범위 제한</strong></div>
                                    <div class="indented-media"><img src="images/Contents/Skull/해골3.png" alt="해골 3" class="clickable-image"></div>
                                    <div class="indented-media"><img src="images/Contents/Skull/해골4.png" alt="해골 4" class="clickable-image"></div>
                                    <p class="ref-note2">*"가까운 곳에 다른 해골이 이미 소환되어 있습니다."</p>                                
                                    <br>
                                    <div><strong>해골 UI - 맵에 표시되는 해골</strong></div>
                                    <div class="indented-media"><img src="images/Contents/Skull/해골5.png" alt="해골 5" class="clickable-image"></div>
                                    <p class="ref-note2">*소환자 및 해골 종류, 설정한 문구, 남은 시간을 볼 수 있으며, 해골로 이동 가능한 UI.</p>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">이벤트 제작 시스템</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>카드 뒤집기를 통한 보상 지급</li>
                                    </ul>
                                </div>
                                <h4>주요 기능</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>카드판 초기화</li>
                                        <li>두 개의 카드를 뒤집어 같은 짝을 맞추면 보상 지급</li>
                                        <li>문서에 따라 달라지는 카드 수로 난이도 조절</li>
                                    </ul>
                                </div>
                                <h4>구현 내용</h4>
                                <div class="dd-content">
                                    <div><strong>이벤트 - 카드 뒤집기 UI</strong></div>
                                    <div class="indented-media"><img src="images/Contents/Event/이벤트1.png" alt="이벤트 1" class="clickable-image"></div>
                                    <div class="indented-media"><img src="images/Contents/Event/이벤트2.gif" alt="이벤트 2" class="clickable-image"></div>
                                </div>
                            </div>

                            <button onclick="toggleDetails('metin-deep-dive', 'btn-metin-top')" class="btn-toggle-bottom">
                                ▲ 상세 기술 및 성과 접기
                            </button>
                        </div>
                    </div>
                </div>

                <div id="cheonsangbi-anchor" class="project-item" style="flex-wrap: wrap;">
                    <div class="project-image"><img src="images/cheonsangbi.png" alt="천상비M"></div>
                    <div class="project-description">
                        <h3>천상비M</h3><p class="project-date">2023.09 - 2024.05</p>
                        <p>1세대 무협 온라인 게임 '천상비'의 IP를 계승하여 모바일 환경에 맞춰 새롭게 재해석한 정통 무협 MMORPG입니다.<br>유니티 엔진을 기반으로 구현되었으며, 국내 주요 앱 마켓에서 안정적으로 라이브 서비스 중인 프로젝트입니다.</p>
                        
                        <div class="project-details">
                            <div><h4>콘텐츠</h4><ul><li>이벤트 제작</li><li>NPC 우호도/파견</li><li>강화 도감</li><li>사냥/장비 도감 작업</li><li>캐시 일괄 구매</li></ul></div>
                            <div><h4>빌드</h4><ul><li>One, Galaxy, Play Store</li><li>IOS XCode 빌드</li></ul></div>
                            <div><h4>유지보수 작업</h4><ul><li>CS 처리</li><li>해외 서비스를 위한 Localization</li></ul></div>
                        </div>
                    </div>

                    <button id="btn-csb-top" onclick="toggleDetails('csb-deep-dive', 'btn-csb-top')" class="btn-toggle-top">▼ 상세 기술 및 성과 보기</button>

                    <div id="csb-deep-dive" style="display: none; flex-basis: 100%; width: 100%; margin-top: 10px;">
                        <div class="deep-dive-container">
                            
                            <ul class="dd-tab-nav">
                                <li class="dd-tab-item active" onclick="switchTab(event, 'csb-tab-contents')">1. 주요 콘텐츠</li>
                            </ul>

                            <div id="csb-tab-contents" class="dd-tab-pane active">
                                <h3 class="deep-dive-title">던전</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>다양한 인스턴스 던전 콘텐츠 제공.</li>
                                    </ul>
                                </div>
                                <h4>주요 기능</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>파티 기반 던전, 보스 레이드, 특수 보상.</li>
                                    </ul>
                                </div>
                                <h4>구현 내용</h4>
                                <div class="dd-content">
                                    <ul><li>던전 입장/매칭 시스템 구현.</li></ul>
                                    <ul><li>보스 몬스터 AI 및 패턴 구현.</li></ul>
                                    <ul><li>클리어 보상 지급 로직 연동.</li></ul>
                                    <div><strong>던전 UI - 월드 던전</strong></div>
                                    <div class="indented-media"><img src="images/Contents/1003bM/Dungeon/던전0.png" alt="던전 0" class="clickable-image"></div>
                                    <br>
                                    <div><strong>던전 UI - 수라성(월드 보스 던전)</strong></div>
                                    <div class="indented-media"><img src="images/Contents/1003bM/Dungeon/던전1.png" alt="던전 1" class="clickable-image"></div>
                                    <br>
                                    <div><strong>던전 UI - 환각의 섬(월드 랭킹 던전)</strong></div>
                                    <div class="indented-media"><img src="images/Contents/1003bM/Dungeon/던전2.png" alt="던전 2" class="clickable-image"></div>
                                    <p class="ref-note2">*획득한 장비 증표에 따라 점수 집계되며, 점수에 따른 랭킹 보상.</p>
                                    <div class="indented-media"><img src="images/Contents/1003bM/Dungeon/던전3.png" alt="던전 3" class="clickable-image"></div>
                                    <p class="ref-note2">*PVP 시 유명 랭커에게서 도망가는 유저 방지용 익명 던전 컨셉.</p>
                                    <div class="indented-media"><img src="images/Contents/1003bM/Dungeon/던전4.png" alt="던전 4" class="clickable-image"></div>
                                    <p class="ref-note2">*환각의 섬 내 드랍되거나 랭킹 보상인 장비 수집증표를 통해 장비 도감의 수집.</p>
                                    <br>
                                    <div><strong>던전 UI - 속성 던전(요일 별 던전) + 속성 시스템 도입</strong></div>
                                    <div class="indented-media"><img src="images/Contents/1003bM/Dungeon/던전5.png" alt="던전 5" class="clickable-image"></div>
                                    <p class="ref-note2">*진행 시간 내 몬스터를 처치하여 집계된 점수를 통해 명성 경험치 보상을 획득.</p>
                                    <p class="ref-note2">*각 속성 별 장착한 무기에 따라 공략.</p>
                                    <br>
                                    <div><strong>던전 UI - 혼령 던전</strong></div>
                                    <div class="indented-media"><img src="images/Contents/1003bM/Dungeon/던전6.png" alt="던전 6" class="clickable-image"></div>
                                    <p class="ref-note2">*혼령 던전 내 드랍되는 혼령석으로 몬스터 도감의 처치 수 증가.</p>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">평판</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>동전 및 은화 소모 콘텐츠.</li>
                                        <li>지역 별 평판을 통한 지역 별 특수 상품 판매.</li>
                                    </ul>
                                </div>
                                <h4>주요 기능</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>지역 기부를 통한 지역 별 평판 수치 UI 최신화.</li>
                                        <li>각 지역 평판에 따른 구매 상품 활성 여부.</li>
                                    </ul>
                                </div>
                                <h4>구현 내용</h4>
                                <div class="dd-content">
                                    <div><strong>평판 UI</strong></div>
                                    <div class="indented-media"><img src="images/Contents/1003bM/Reputation/평판1.png" alt="평판 1" class="clickable-image"></div>
                                    <p class="ref-note2">*지역 클릭 시 좌측 적대 지역 표시 우측 상세 페이지 UI.</p>
                                    <div class="indented-media"><img src="images/Contents/1003bM/Reputation/평판2.png" alt="평판 2" class="clickable-image"></div>
                                    <p class="ref-note2">*각 평판에 따라 살 수 있는 아이템 및 가격 변동.</p>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">인연 (NPC 우호도/파견 - 도감 자동화 시스템)</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>도감 시스템과 연계된 파견 콘텐츠 제공.</li>
                                        <li>도감 작업에 지루함을 느끼는 유저들의 불만 해소.</li>
                                    </ul>
                                </div>
                                <h4>주요 기능</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>NPC 파견을 통한 도감 작업 및 경험치 획득.</li>
                                    </ul>
                                </div>
                                <h4>구현 내용</h4>
                                <div class="dd-content">
                                    <div><strong>인연 UI</strong></div>
                                    <div class="indented-media"><img src="images/Contents/1003bM/Dispatch/인연1.png" alt="인연 1" class="clickable-image"></div>
                                    <p class="ref-note2">*보유 인연 출력 및 파견/보유 효과.</p>
                                    <br>
                                    <div><strong>인연 UI - 파견</strong></div>
                                    <div class="indented-media"><img src="images/Contents/1003bM/Dispatch/인연2.jpg" alt="인연 2" class="clickable-image"></div>
                                    <p class="ref-note2">*파견 종류.</p>
                                    <div class="indented-media"><img src="images/Contents/1003bM/Dispatch/인연3.jpg" alt="인연 3" class="clickable-image"></div>
                                    <p class="ref-note2">*파견 지역 및 몬스터 선택.</p>
                                    <p class="ref-note2">*파견 보낼 NPC 선택.</p>
                                    <p class="ref-note2">*일괄 파견 시 최근 보냈던 지역 및 몬스터, NPC로 설정되어 창을 연속해서 띄웁니다..</p>
                                    <br>
                                    <li>우호도 변화 및 단계별 기능 변화 로직 구현.</li>
                                    <li>파견 NPC/임무 선택 UI, 파견 시작/완료/보상 로직 구현.</li>
                                    <li>관련 데이터(파견 상태) 저장 및 관리.</li>
                                    <li>도감 시스템 연동 로직 추가.</li>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">팔괘 도감</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>'팔괘' 아이템 관련 컬렉션 달성 목표 제공 및 능력치 보너스 부여.</li>
                                    </ul>
                                </div>
                                <h4>주요 기능</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>팔괘 아이템 획득/강화 기반 컬렉션, 달성 현황 UI, 컬렉션 효과.</li>
                                    </ul>
                                </div>
                                <h4>구현 내용</h4>
                                <div class="dd-content">
                                    <div class="indented-media"><img src="images/Contents/1003bM/EightEnchant/팔괘_강화_도감.png" alt="팔괘 강화 도감" class="clickable-image"></div>
                                </div>

                                <hr class="deep-dive-divider">

                                <h3 class="deep-dive-title">캐시샵 일괄 구매</h3>
                                <h4>개발 목표</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>유저 편의성 증대.</li>
                                    </ul>
                                </div>
                                <h4>주요 기능</h4>
                                <div class="dd-content">
                                    <ul>
                                        <li>일괄 구매: 일일 동전 구매 가능 아이템 다수 동시 구매.</li>
                                    </ul>
                                </div>
                                <h4>구현 내용</h4>
                                <div class="dd-content">
                                    <li>상점 UI에 동전으로 살 수 있는 아이템들에 대해 수량 입력/계산 및 일괄 구매 요청/처리 로직 구현.</li>
                                    <div class="indented-media"><img src="images/Contents/1003bM/CashBuy_Bulk/캐시샵_일괄_구매.png" alt="캐시샵 일괄 구매" class="clickable-image"></div>
                                </div>
                            </div>

                            <button onclick="toggleDetails('csb-deep-dive', 'btn-csb-top')" class="btn-toggle-bottom">
                                ▲ 상세 기술 및 성과 접기
                            </button>
                        </div>
                    </div>
                </div>
                
            </section>
        </main>
    </div>

    <div id="imageModal" class="image-modal-overlay">
        <span class="close-image-modal">&times;</span>
        <img class="image-modal-content" id="largeImage">
    </div>

<script>
        document.addEventListener('DOMContentLoaded', function () {
            
            // 1. 사이드바 스크롤 스파이 (현재 위치 하이라이트)
            const sections = document.querySelectorAll('.project-item'); 
            const navLinks = document.querySelectorAll('.side-nav a');
            
            const observerOptions = {
                root: null,
                // 중요: 화면의 중앙 부분(위에서 30%, 아래에서 30% 제외)에 들어왔을 때만 감지
                // 이렇게 해야 스크롤할 때 정확히 현재 보고 있는 프로젝트만 활성화됨
                rootMargin: '-30% 0px -30% 0px', 
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // 현재 화면에 들어온 섹션의 ID 가져오기
                        const id = entry.target.getAttribute('id');
                        
                        // 1. 모든 링크의 active 클래스 제거
                        navLinks.forEach(link => {
                            link.classList.remove('active');
                            // 2. 현재 섹션과 일치하는 링크에 active 클래스 추가
                            if (link.getAttribute('href') === `#${id}`) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                observer.observe(section);
            });

            // 2. 이미지 라이트박스 (기존 기능 유지)
            const imageModal = document.getElementById('imageModal');
            const largeImage = document.getElementById('largeImage');
            const closeImageModalButton = document.querySelector('.close-image-modal');
            if (imageModal && largeImage && closeImageModalButton) {
                document.body.addEventListener('click', function(event) {
                    if (event.target.classList.contains('clickable-image')) {
                        imageModal.style.display = 'flex';
                        largeImage.src = event.target.src;
                    }
                });
                const closeImageModal = () => { imageModal.style.display = 'none'; };
                closeImageModalButton.addEventListener('click', closeImageModal);
                imageModal.addEventListener('click', (event) => { if (event.target === imageModal) { closeImageModal(); } });
                window.addEventListener('keydown', (event) => { if (event.key === 'Escape') { closeImageModal(); }});
            }
        });

        // 3. 토글 열기/닫기 함수 (기존 기능 유지)
        function toggleDetails(contentId, buttonId) {
            const content = document.getElementById(contentId);
            const topButton = document.getElementById(buttonId);
            
            if (!content) return;

            if (content.style.display === "none") {
                content.style.display = "block";
                if(topButton) {
                    topButton.innerHTML = "▲ 상세 기술 및 성과 접기";
                    topButton.style.backgroundColor = "#f9f9f9"; 
                }
            } else {
                content.style.display = "none";
                if(topButton) {
                    topButton.innerHTML = "▼ 상세 기술 및 성과 보기";
                    topButton.style.backgroundColor = "transparent";
                }
            }
        }

        // 4. Deep Dive 내부 탭 전환 함수 (기존 기능 유지)
        function switchTab(event, tabContentId) {
            const nav = event.currentTarget.parentElement;
            const container = nav.parentElement;

            nav.querySelectorAll('.dd-tab-item').forEach(item => item.classList.remove('active'));
            event.currentTarget.classList.add('active');

            container.querySelectorAll('.dd-tab-pane').forEach(pane => pane.classList.remove('active'));
            const targetPane = document.getElementById(tabContentId);
            if(targetPane) {
                targetPane.classList.add('active');
            }
        }
    </script>
</body>
</html>